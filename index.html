<html>

<head>
	<!-- Title&Meta-->
	<title>WordleIT</title>
	<meta name="viewport" content="width=device-width, user-scalable=no">

	<!-- CSS and JS files -->
	<link rel="stylesheet" href="style.css">
	<!-- <script src="script.js" type="text/javascript"></script> -->

	<!-- Font Awesome links -->
	<link rel="stylesheet" data-purpose="Layout StyleSheet" title="Default" disabled href="/css/app-af6a05f42b013986b481566363f0186f.css?vsn=d">
	<link rel="stylesheet" data-purpose="Layout StyleSheet" title="Web Awesome" href="/css/app-wa-cc491567b46eab1188c6538ebc462e7d.css?vsn=d">
	<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/all.css">
	<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/sharp-solid.css">
	<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/sharp-regular.css">
	<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/sharp-light.css">
</head>

<body onload="d()">

    <!-- Navbar -->

	<div class="nav">
		<h3 id="navpunti"></h3>
		<h1>WordleIT</h1>
		<button name="theme" onclick="tchange()">
			<i class="fa-solid fa-sun-bright fa-2xl" style="color: black; position: absolute; left: 2;"></i>
			<i class="fa-solid fa-moon fa-2xl" style="color: white; position: absolute; right: 4;"></i>
			<div id="circle"></div>
		</button>
	</div>

    <!-- Announcer -->

	<div class="announcer">
		<h2 id="result"></h2>
		<h2 id="word"></h2>
		<div id="container">
			<h3 id="first"></h3>
			<h3 id="second"></h3>
		</div>
		<button onclick="location.reload()">Continua!</button>
	</div>

    <!-- Underline Container -->

	<div class="underline-container">
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div class="break"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div class="break"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div class="break"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div class="break"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div id="underline"></div>
		<div class="break"></div>
	</div>

    <!-- Tastiera -->

	<form class="tastiera" id="input_form" method="post">
		<button type="submit" name="tasto" id="tasto" class="neutral" value="A">A</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="B">B</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="C">C</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="D">D</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="E">E</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="F">F</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="G">G</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="H">H</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="I">I</button>
		<div class="break"></div>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="J">J</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="K">K</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="L">L</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="M">M</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="N">N</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="O">O</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="P">P</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="Q">Q</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="R">R</button>
		<div class="break"></div>
            <button type="submit" name="tasto" id="tastob" class="neutral" value="BACK"><i class="fa-regular fa-delete-left"></i></button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="S">S</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="T">T</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="U">U</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="V">V</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="W">W</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="X">X</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="Y">Y</button>
		<button type="submit" name="tasto" id="tasto" class="neutral" value="Z">Z</button>
            <button type="submit" name="tasto" id="tastob" class="neutral" value="ENT"><i class="fa-regular fa-turn-down-left"></i></button>
	</form>
</body>

</html>

<!-- GITHUB-PAGES require js to be with HTML (or 405 Not Allowed would appear)-->
<script>
function d(){document.documentElement.className="dark_theme",document.getElementById("navpunti").innerHTML="Streak: "+p}function tchange(){var e=document.getElementById("circle");""==e.style.animationName?(e.style.animationName="tchangel",change_th(1)):"tchangel"==e.style.animationName?(e.style.animationName="tchanged",change_th(0)):"tchanged"==e.style.animationName&&(e.style.animationName="tchangel",change_th(1))}function change_th(e){var t=document.documentElement;1==e?t.className="light_theme":t.className="dark_theme"}let parola,lettere=[];function ann(e,t,n){var a=document.querySelector(".announcer");a.style.display="initial",document.getElementById("word").innerHTML="La parola era <span style='color:#2dbe0f'>"+n+"</span>",1==e?(document.getElementById("result").innerHTML="HAI <span style='color:green'>VINTO</span>!",document.getElementById("second").innerHTML="Streak: "+parseInt(p+1),u_cookie(),1==t?document.getElementById("first").innerHTML="Hai indovinato in <span style='color:green'>"+t+"</span> tentativo":document.getElementById("first").innerHTML="Hai indovinato in <span style='color:yellow'>"+t+"</span> tentativi"):(document.getElementById("result").innerHTML="HAI <span style='color:red'>PERSO</span>!",document.getElementById("first").innerHTML="Avevi <span style='color:red'>5</span> tentativi",document.getElementById("second").innerHTML="Streak <span style='color:red'>terminata</span>!",d_cookie()),setTimeout(function(){a.style.animation="announcer 0.75s forwards"},100)}function c_cookie(){document.cookie="points="+p+"; expires=Thu, 01-Jan-2030 00:00:01 GMT;"}function r_cookie(){let e=getCookie("points");""!==e?p=parseInt(e):c_cookie()}function u_cookie(){p+=1,c_cookie()}function d_cookie(){p=0,c_cookie()}function getCookie(e){let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let a=0;a<n.length;a++){let o=n[a];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}fetch("5letters.txt").then(e=>e.text()).then(e=>{let t=e.split("\n").filter(Boolean),n=t.length,a=Math.floor(Math.random()*n);parola=t[a].toUpperCase();for(let o=0;o<=5;o++)lettere[o]=parola.substr(o,1)}),c=0,ra=0,r=1,ent=0,$("button").on("click",function(){event.preventDefault();var e=$(this).val();if(c%5==0&&"ENT"==e&&(ent=1),c%5==0&&c>1&&"rgb(30, 30, 30)"==window.getComputedStyle(elems[c-1]).backgroundColor&&"BACK"!=e&&"ENT"!=e)return!1;if(""!=e){let t=[],n=[],a=[];if(elems=document.querySelectorAll("[id='underline']"),"ENT"!=e&&"BACK"!=e&&(elems[c].style.animationName="popText",elems[c].setAttribute("data-before",e),c++),"BACK"==e&&"rgb(30, 30, 30)"==window.getComputedStyle(elems[c-1]).backgroundColor&&(elems[c-1].setAttribute("data-before",""),c--),c%5==0&&1==ent){ent=0,l=0;for(var o=5*ra;o<5*r;o++)elems[o].getAttribute("data-before")==lettere[l]?(t.push(elems[o].getAttribute("data-before")),elems[o].style.backgroundColor="",elems[o].className="right"):parola.indexOf(elems[o].getAttribute("data-before"))>-1?(n.push(elems[o].getAttribute("data-before")),elems[o].style.backgroundColor="",elems[o].className="present"):(a.push(elems[o].getAttribute("data-before")),elems[o].style.backgroundColor="",elems[o].className="error"),l++;a.forEach(function(e){document.querySelector("button[value="+e+"]").className="error"}),n.forEach(function(e){document.querySelector("button[value="+e+"]").className="present"}),t.forEach(function(e){document.querySelector("button[value="+e+"]").className="right"}),5==t.length?ann(1,r,parola):5==r&&ann(0,null,parola),r++,ra++,a.length=0,n.length=0,t.length=0}}}),window.addEventListener("keydown",function(e){var t=`${e.key}`.toUpperCase();event.preventDefault();var n=t;if(c%5==0&&"ENTER"==n&&(ent=1),c%5==0&&c>1&&"rgb(30, 30, 30)"==window.getComputedStyle(elems[c-1]).backgroundColor&&"BACKSPACE"!=n&&"ENTER"!=n)return!1;document.querySelectorAll("button[value="+t+"]");let a=[],o=[],i=[];if(elems=document.querySelectorAll("[id='underline']"),"ENTER"!=n&&"BACKSPACE"!=n&&(elems[c].setAttribute("data-before",n),c++),"BACKSPACE"==n&&"rgb(30, 30, 30)"==window.getComputedStyle(elems[c-1]).backgroundColor&&(elems[c-1].setAttribute("data-before",""),c--),c%5==0&&1==ent){ent=0,l=0;for(var s=5*ra;s<5*r;s++)elems[s].getAttribute("data-before")==lettere[l]?(a.push(elems[s].getAttribute("data-before")),elems[s].style.backgroundColor="",elems[s].className="right"):parola.indexOf(elems[s].getAttribute("data-before"))>-1?(o.push(elems[s].getAttribute("data-before")),elems[s].style.backgroundColor="",elems[s].className="present"):(i.push(elems[s].getAttribute("data-before")),elems[s].style.backgroundColor="",elems[s].className="error"),l++;i.forEach(function(e){document.querySelector("button[value="+e+"]").className="error"}),o.forEach(function(e){document.querySelector("button[value="+e+"]").className="present"}),a.forEach(function(e){document.querySelector("button[value="+e+"]").className="right"}),5==a.length?ann(1,r,parola):5==r&&ann(0,null,parola),r++,ra++,i.length=0,o.length=0,a.length=0}}),r_cookie();
</script>